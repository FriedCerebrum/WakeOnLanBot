# –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–ª—è callback-–æ–≤

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–î–æ–±–∞–≤–ª–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ webhook** (–æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã)
–í `src/handler.rs` –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ–¥:
```rust
bot.delete_webhook().await
```

### 2. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –ö–∞–∂–¥—ã–π callback —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å —ç–º–æ–¥–∑–∏-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤—è–∑–∏ —Å Telegram API –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

### 3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**
- ‚úÖ `RUST_LOG=debug` –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö
- ‚úÖ –£–¥–∞–ª–µ–Ω–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ –º–µ–∂–¥—É Dockerfile –∏ docker-compose.yml

### 4. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ BOT_TOKEN —á–µ—Ä–µ–∑ `bot.get_me()`
- ‚úÖ –í–µ—Ä—Å–∏–∏ Rust –∏ teloxide –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –°—Ç–∞—Ç—É—Å webhook

## üöÄ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å:

1. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
```bash
docker-compose down
docker-compose build --no-cache
docker-compose up
```

2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏:**
```bash
docker logs -f tg-server-manager
```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**

**–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ:**
```
=== –ù–ê–ß–ê–õ–û –ó–ê–ü–£–°–ö–ê –û–ë–†–ê–ë–û–¢–ß–ò–ö–ê ===
–£–¥–∞–ª—è–µ–º webhook (–µ—Å–ª–∏ –µ—Å—Ç—å)...
Webhook —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
```

**–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏:**
```
üîî –ü–æ–ª—É—á–µ–Ω CALLBACK QUERY!
üë§ –û—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: [ID]
üìä Callback data: Some("wol")
üéØ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º callback data: 'wol'
üîå –ó–∞–ø—É—Å–∫ WOL handler
‚úÖ WOL Handler: Callback query –æ—Ç–≤–µ—á–µ–Ω
```

## ‚ö° –ù–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞:

**–ö–æ–Ω—Ñ–ª–∏–∫—Ç webhook/polling** - –µ—Å–ª–∏ –±–æ—Ç —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª webhook, –æ–Ω –º–æ–≥ –æ—Å—Ç–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å polling.

## üîç –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

–ò—â–∏—Ç–µ –≤ –Ω–æ–≤—ã—Ö –ª–æ–≥–∞—Ö:
- ‚ùå –û—à–∏–±–∫–∏ —Å–≤—è–∑–∏ —Å Telegram API
- ‚ùå –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏  
- ‚ùå –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å `answer_callback_query()`

–° –Ω–æ–≤—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω–∞ —Å—Ç–∞–Ω–µ—Ç –æ—á–µ–≤–∏–¥–Ω–æ–π!