# Исправление проблемы с кнопками Telegram бота

## Проблема
Бот получал сообщения, но кнопки инлайн-клавиатуры не обрабатывались. В логах было видно:
```
DEBUG teloxide::dispatching::dispatcher > hinting allowed updates: [Message]
```

## Причина
Использовался `teloxide::update_listeners::polling_default`, который по умолчанию принимает только сообщения типа `Message` и игнорирует `CallbackQuery` (нажатия на кнопки).

## Решение
Заменили `polling_default` на настраиваемый `Polling::builder` с явным указанием типов обновлений:

### Исходный код (не работал):
```rust
let listener = teloxide::update_listeners::polling_default(bot.clone()).await;
```

### Исправленный код:
```rust
use teloxide::types::AllowedUpdate;
use teloxide::update_listeners::Polling;
let allowed_updates = vec![
    AllowedUpdate::Message,
    AllowedUpdate::CallbackQuery,
];

let listener = Polling::builder(bot.clone())
    .timeout(std::time::Duration::from_secs(10))
    .limit(100)
    .allowed_updates(allowed_updates)
    .build();
```

## Файл изменений
- `src/handler.rs`: строки 20-34

## Результат
Теперь бот будет принимать как сообщения (`Message`), так и нажатия кнопок (`CallbackQuery`), и кнопки должны корректно обрабатываться.

## Дополнительно исправлено
- Использование устаревшего API: заменили `teloxide::update_listeners::polling` на `Polling::builder()` для соответствия teloxide 0.12.